{-# LANGUAGE OverloadedStrings #-}
module Main where

import Criterion.Main
import qualified Control.Monad.Trans.State as ST

import Vindinium
import qualified FuzzyBot as FB

main = defaultMain [
   bench "initial state on big map" $ whnf runBot state
 ]

-- Runs the bot in the Identity Monad version of StateT.
-- Possibly won't be enough in the future
runBot :: State -> (Dir, ())
runBot state = (ST.runState $ FB.bot state) FB.initialBotState
state = State {stateGame = Game {gameId = GameId "9r372nb2", gameTurn = 0, gameMaxTurns = 1200, gameHeroes = [Hero {heroId = HeroId 1, heroName = "anotherbot", heroUserId = Just "ft28x7e9", heroElo = Just 1212, heroPos = Pos {posX = 6, posY = 8}, heroLife = 100, heroGold = 0, heroMineCount = 0, heroSpawnPos = Pos {posX = 6, posY = 8}, heroCrashed = False},Hero {heroId = HeroId 2, heroName = "random", heroUserId = Nothing, heroElo = Nothing, heroPos = Pos {posX = 6, posY = 13}, heroLife = 100, heroGold = 0, heroMineCount = 0, heroSpawnPos = Pos {posX = 6, posY = 13}, heroCrashed = False},Hero {heroId = HeroId 3, heroName = "random", heroUserId = Nothing, heroElo = Nothing, heroPos = Pos {posX = 15, posY = 13}, heroLife = 100, heroGold = 0, heroMineCount = 0, heroSpawnPos = Pos {posX = 15, posY = 13}, heroCrashed = False},Hero {heroId = HeroId 4, heroName = "random", heroUserId = Nothing, heroElo = Nothing, heroPos = Pos {posX = 15, posY = 8}, heroLife = 100, heroGold = 0, heroMineCount = 0, heroSpawnPos = Pos {posX = 15, posY = 8}, heroCrashed = False}], gameBoard = Board {boardSize = 22, boardTiles = [FreeTile,FreeTile,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,FreeTile,FreeTile,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,FreeTile,FreeTile,WoodTile,FreeTile,FreeTile,FreeTile,WoodTile,WoodTile,WoodTile,WoodTile,MineTile Nothing,FreeTile,FreeTile,FreeTile,FreeTile,MineTile Nothing,WoodTile,WoodTile,WoodTile,WoodTile,FreeTile,FreeTile,FreeTile,WoodTile,WoodTile,TavernTile,MineTile Nothing,FreeTile,FreeTile,MineTile Nothing,FreeTile,MineTile Nothing,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,MineTile Nothing,FreeTile,MineTile Nothing,FreeTile,FreeTile,MineTile Nothing,TavernTile,WoodTile,WoodTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,WoodTile,WoodTile,WoodTile,FreeTile,FreeTile,FreeTile,WoodTile,WoodTile,MineTile Nothing,WoodTile,FreeTile,FreeTile,FreeTile,FreeTile,WoodTile,MineTile Nothing,WoodTile,WoodTile,FreeTile,FreeTile,FreeTile,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,MineTile Nothing,WoodTile,WoodTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,WoodTile,WoodTile,MineTile Nothing,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,FreeTile,FreeTile,FreeTile,WoodTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,WoodTile,FreeTile,FreeTile,FreeTile,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,FreeTile,WoodTile,MineTile Nothing,WoodTile,WoodTile,FreeTile,FreeTile,FreeTile,FreeTile,WoodTile,WoodTile,MineTile Nothing,WoodTile,FreeTile,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,FreeTile,FreeTile,FreeTile,FreeTile,HeroTile (HeroId 1),WoodTile,FreeTile,WoodTile,FreeTile,FreeTile,WoodTile,FreeTile,WoodTile,HeroTile (HeroId 4),FreeTile,FreeTile,FreeTile,FreeTile,WoodTile,WoodTile,WoodTile,WoodTile,MineTile Nothing,FreeTile,WoodTile,FreeTile,WoodTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,WoodTile,FreeTile,WoodTile,FreeTile,MineTile Nothing,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,WoodTile,FreeTile,FreeTile,FreeTile,FreeTile,WoodTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,WoodTile,FreeTile,FreeTile,FreeTile,FreeTile,WoodTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,MineTile Nothing,FreeTile,WoodTile,FreeTile,WoodTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,WoodTile,FreeTile,WoodTile,FreeTile,MineTile Nothing,WoodTile,WoodTile,WoodTile,WoodTile,FreeTile,FreeTile,FreeTile,FreeTile,HeroTile (HeroId 2),WoodTile,FreeTile,WoodTile,FreeTile,FreeTile,WoodTile,FreeTile,WoodTile,HeroTile (HeroId 3),FreeTile,FreeTile,FreeTile,FreeTile,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,FreeTile,WoodTile,MineTile Nothing,WoodTile,WoodTile,FreeTile,FreeTile,FreeTile,FreeTile,WoodTile,WoodTile,MineTile Nothing,WoodTile,FreeTile,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,FreeTile,FreeTile,FreeTile,WoodTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,WoodTile,FreeTile,FreeTile,FreeTile,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,MineTile Nothing,WoodTile,WoodTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,WoodTile,WoodTile,MineTile Nothing,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,FreeTile,FreeTile,FreeTile,WoodTile,WoodTile,MineTile Nothing,WoodTile,FreeTile,FreeTile,FreeTile,FreeTile,WoodTile,MineTile Nothing,WoodTile,WoodTile,FreeTile,FreeTile,FreeTile,WoodTile,WoodTile,WoodTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,WoodTile,WoodTile,TavernTile,MineTile Nothing,FreeTile,FreeTile,MineTile Nothing,FreeTile,MineTile Nothing,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,FreeTile,MineTile Nothing,FreeTile,MineTile Nothing,FreeTile,FreeTile,MineTile Nothing,TavernTile,WoodTile,WoodTile,FreeTile,FreeTile,FreeTile,WoodTile,WoodTile,WoodTile,WoodTile,MineTile Nothing,FreeTile,FreeTile,FreeTile,FreeTile,MineTile Nothing,WoodTile,WoodTile,WoodTile,WoodTile,FreeTile,FreeTile,FreeTile,WoodTile,FreeTile,FreeTile,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,FreeTile,FreeTile,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,WoodTile,FreeTile,FreeTile]}, gameFinished = False}, stateHero = Hero {heroId = HeroId 1, heroName = "anotherbot", heroUserId = Just "ft28x7e9", heroElo = Just 1212, heroPos = Pos {posX = 6, posY = 8}, heroLife = 100, heroGold = 0, heroMineCount = 0, heroSpawnPos = Pos {posX = 6, posY = 8}, heroCrashed = False}, stateToken = "gtjo", stateViewUrl = "http://localhost:9000/9r372nb2", statePlayUrl = "http://localhost:9000/api/9r372nb2/gtjo/play"} 
